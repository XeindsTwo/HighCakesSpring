<!DOCTYPE html>
<html lang="ru" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HighCakes | О компании</title>
    <link rel="icon" th:href="@{/images/icons/favicon.svg}" type="images/x-icon">
    <link rel="shortcut icon" th:href="@{/images/icons/favicon.svg}" type="images/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body class="body">
<header class="header">
    <div class="container">
        <nav class="header__nav">
            <ul class="header__menu">
                <li class="header__item">
                    <a class="header__link header__link--active" th:href="@{/}">Главная</a>
                </li>
                <li class="header__item">
                    <a class="header__link" th:href="@{/about}">О компании</a>
                </li>
                <li class="header__item">
                    <a class="header__link" th:href="@{/catalog}">Каталог</a>
                </li>
                <li class="header__item">
                    <a class="header__link" th:href="@{/offer}">Заказать торт</a>
                </li>
                <li class="header__item">
                    <a class="header__link" th:href="@{/unique}">Индивидуальный заказ</a>
                </li>
                <li class="header__item">
                    <a class="header__link" th:href="@{/news}">Новости</a>
                </li>
                <li class="header__item">
                    <a class="header__link" th:href="@{/shipping}">Доставка и оплата</a>
                </li>
                <li class="header__item">
                    <a class="header__link" th:href="@{/reviews}">Отзывы</a>
                </li>
                <li class="header__item">
                    <a class="header__link" th:href="@{/users}">Пользователи</a>
                </li>
            </ul>
        </nav>
        <div class="header__inner">
            <button class="menu-btn">
                <span class="menu-btn__line"></span>
                <span class="menu-btn__line"></span>
                <span class="menu-btn__line"></span>
            </button>
            <a class="logo" th:href="@{/}">
                <img class="logo__img" th:src="@{/images/icons/logo.svg}" alt="логотип" width="215" height="54">
            </a>
            <div class="header__cabinet" sec:authorize="not isAuthenticated()">
                <a class="header__cabinet-link" th:href="@{/login}">Войти</a>
            </div>
            <div class="header__cabinet" sec:authorize="isAuthenticated()">
                <a class="header__cabinet-link" th:href="@{/profile}">Личный кабинет</a>
            </div>
        </div>
    </div>
</header>
<main>
    <section class="offer indent">
        <div class="container">
            <div class="offer__admin">
                <form class="offer__admin-search" action="">
                    <label for="search-offer">
                        <input type="text" class="catalog__field" id="search-offer" placeholder="Введите текст">
                    </label>
                </form>
                <span class="offer__admin-title">Все заявки:</span>
                <ul class="offer__admin-list">
                    <th:block th:if="${offers.isEmpty()}">
                        <p>Заявок пока нет</p>
                    </th:block>
                    <th:block th:each="offer : ${offers}">
                        <li class="offer__admin-item">
                            <button class="offer__admin-btn" onclick="modal_DeleteOffer()"
                                    th:data-offer-id="${offer.id}" th:data-offer-name="${offer.name}"
                                    th:data-offer-cake="${offer.cake.name}">
                                <svg class="table__svg" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7 1H13M1 4H19M17 4L16.2987 14.5193C16.1935 16.0975 16.1409 16.8867 15.8 17.485C15.4999 18.0118 15.0472 18.4353 14.5017 18.6997C13.882 19 13.0911 19 11.5093 19H8.49065C6.90891 19 6.11803 19 5.49834 18.6997C4.95276 18.4353 4.50009 18.0118 4.19998 17.485C3.85911 16.8867 3.8065 16.0975 3.70129 14.5193L3 4M8 8.5V13.5M12 8.5V13.5"
                                          stroke="#fff" stroke-width="2" stroke-linecap="round"
                                          stroke-linejoin="round">
                                    </path>
                                </svg>
                            </button>
                            <p th:text="'Имя - ' + ${offer.name}"></p>
                            <p th:text="'Почта - ' + ${offer.email}"></p>
                            <p th:text="'Телефон - ' + ${offer.phone}"></p>
                            <p th:text="'Заказанный торт - ' + ${offer.cake.name}"></p>
                        </li>
                    </th:block>
                </ul>
            </div>
            <div class="offer__inner">
                <h1 class="page-title page-title--indent">Заказать торт</h1>
                <div class="offer__content">
                    <p>
                        Добро пожаловать на страницу заказа тортов HighCakes!
                    </p>
                    <p>
                        У нас вы найдете широкий выбор готовых тортов, каждый из которых представляет собой идеальное
                        сочетание вкуса и внешней привлекательности. Мы понимаем, что иногда вам просто нужен надежный и
                        вкусный торт для вашего особого момента, и мы готовы предложить вам лучшее из нашего
                        ассортимента
                    </p>
                    <p>
                        Когда дело доходит до тортов из каталога HighCakes, мы тщательно отбираем лучшие рецепты и
                        дизайны,
                        чтобы удовлетворить самые изысканные вкусы наших клиентов. Каждый торт создан с использованием
                        премиальных ингредиентов, внимательно подобранных нашими талантливыми кондитерами. Вы можете
                        быть
                        уверены, что наша команда посвятила много времени и усилий, чтобы достичь идеального сочетания
                        текстуры, вкуса и визуального оформления
                    </p>
                    <a class="offer__link" th:href="@{/catalog}">Разглядеть весь каталог</a>
                </div>
                <form class="offer__form" th:action="@{/offer/save}" th:object="${offer}" method="post">
                    <ul class="offer__list">
                        <li class="offer__item">
                            <label class="label" for="name">Ваше имя</label>
                            <input class="input" id="name" name="name" type="text" placeholder="Введите имя" required>
                            <span class="error error--active">Имя не соответствует требованиям. Нельзя использовать спец символы и цифры, только латиница!</span>
                        </li>
                        <li class="offer__item">
                            <label class="label" for="phone">Ваш телефон</label>
                            <input class="input" data-tel-input maxlength="22" id="phone" name="phone" type="text"
                                   placeholder="Введите номер"
                                   required>
                            <span class="error error--active">Телефон не может быть пустым!</span>
                        </li>
                        <li class="offer__item">
                            <label class="label" for="email">Ваша почта</label>
                            <input class="input" id="email" name="email" type="email" placeholder="Введите почту"
                                   required>
                            <span class="error error--active">Почта не соответствует требованиям. Нельзя использовать спец символы и литиницу!</span>
                        </li>
                        <li class="offer__item">
                            <label class="label" for="cake">Выбор тортика</label>
                            <select class="select" id="cake" name="cake">
                                <option th:each="cake : ${cakes}" th:value="${cake.id}" th:text="${cake.name}"></option>
                            </select>
                        </li>
                    </ul>
                    <p class="offer__accept">
                        Отправляя данные, Вы соглашаетесь с политикой конфиденциальности
                    </p>
                    <button class="btn" type="submit">Отправить</button>
                </form>
            </div>
        </div>
    </section>
    <section class="contacts indent">
        <div class="container">
            <h2 class="section-title">Контакты</h2>
            <div class="contacts__content">
                <ul class="contacts__info">
                    <li class="contacts__item">
                        <span class="contacts__name">Номер телефона: </span>
                        <a class="contacts__link" href="tel:+79181682137">+7 (918) 168-21-37</a>
                    </li>
                    <li class="contacts__item">
                        <span class="contacts__name">Адрес:</span>
                        <a class="contacts__link" href="https://goo.gl/maps/Y2k9eTwXRcEDa1b58" target="_blank">ул.
                            Ленина, 177/1</a>
                    </li>
                    <li class="contacts__item">
                        <span class="contacts__name">График работы:</span>
                        <div class="contacts__work">Ежедневно с 8:00 до 21:00</div>
                    </li>
                </ul>
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2832.8472924953485!2d39.868705!3d44.763529!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40f0c5e81e9266f7%3A0x8d4de1ab4064a308!2z0YPQuy4g0JvQtdC90LjQvdCwLCAxMjcsINCR0LXQu9C-0YDQtdGH0LXQvdGB0LosINCa0YDQsNGB0L3QvtC00LDRgNGB0LrQuNC5INC60YDQsNC5LCAzNTI2MzA!5e0!3m2!1sru!2sru!4v1685602248272!5m2!1sru!2sru"
                        width="860" height="440" style="border:0;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </section>
</main>
<footer class="footer">
    <div class="footer__top">
        <div class="container">
            <nav class="footer__nav">
                <ul class="footer__list">
                    <li class="footer__item">
                        <a th:href="@{/}" class="footer__link">Главная</a>
                    </li>
                    <li class="footer__item">
                        <a th:href="@{/about}" class="footer__link">О компании</a>
                    </li>
                    <li class="footer__item">
                        <a th:href="@{/catalog}" class="footer__link">Каталог</a>
                    </li>
                    <li class="footer__item">
                        <a th:href="@{/news}" class="footer__link">Новости</a>
                    </li>
                    <li class="footer__item">
                        <a th:href="@{/reviews}" class="footer__link">Отзывы</a>
                    </li>
                    <li class="footer__item">
                        <a th:href="@{/unique}" class="footer__link">Заказать торт</a>
                    </li>
                    <li class="footer__item">
                        <a th:href="@{/shipping}" class="footer__link">Доставка и оплата</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <p class="footer__author">© Все права защищены HighCakes</p>
</footer>
<div class="modal modal--delete" id="modal-delete_offer">
    <button class="modal__close" onclick="modal_DeleteOfferClose()">
        <svg width="22" height="22" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.99998 8.99998L1 1" stroke="white" stroke-width="1" stroke-linecap="round"
                  stroke-linejoin="round"/>
            <path d="M9.00002 1L1 9.00002" stroke="white" stroke-width="1" stroke-linecap="round"
                  stroke-linejoin="round"/>
        </svg>
    </button>
    <div class="modal__inner">
        <p class="modal__text">
            Вы действительно хотите удалить заказ от "<span id="offer_name-delete"></span>" на <span id="offer_cake-delete"></span> ? Отменить это действие будет
            невозможно.
        </p>
        <form class="modal__form-actions" action="">
            <div class="modal__buttons">
                <button class="modal__btn" type="button" id="button-delete_cake" onclick="deleteOffer()">Удалить</button>
                <button class="modal__btn" type="button" id="button-cancel_cake" onclick="modal_DeleteOfferClose()">
                    Отмена
                </button>
            </div>
        </form>
    </div>
</div>
<script th:src="@{/js/main.min.js}"></script>
<script th:src="@{/js/custom-select.js}"></script>
<script th:src="@{/js/phone-mask.js}"></script>
<script th:src="@{/js/offer.js}"></script>
</body>
</html>